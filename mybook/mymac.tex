% Macros for My Book

\input luatexko.sty

% hangul font setting for plain tex
%
% borrowed from luatexko-doc.tex
%
\sethangulfont\tenmj="Noto Serif CJK KR Light:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default;" at 9.8pt
\sethangulfont\tentz="Noto Sans Mono CJK KR" at 9.5pt
\sethangulfont\tenbd="Noto Serif CJK KR Bold:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default;" at 9.8pt
\sethangulfont\tensn="Noto Sans CJK KR DemiLight:%
  language=KOR;%
  script=hang;%
  interlatincjk=.125em;%
  +compresspunctuations" at 9.8pt

\sethangulfont\ninemj="Noto Serif CJK KR Light:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default" at 8.8pt
\sethangulfont\ninetz="Noto Sans Mono CJK KR" at 8.5pt
\sethangulfont\ninebd="Noto Serif CJK KR Bold:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default" at 8.8pt
\sethangulfont\ninesn="Noto Sans CJK KR DemiLight:%
  language=KOR;%
  script=hang;%
  +compresspunctuations" at 8.8pt

\sethangulfont\eightmj="Noto Serif CJK KR Light:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default" at 7.8pt
\sethangulfont\eighttz="Noto Sans Mono CJK KR" at 7.5pt
\sethangulfont\eightbd="Noto Serif CJK KR Bold:%
  language=KOR;%
  script=hang;%
  interhangul=-0.04em;%
  interlatincjk=.125em;%
  charraise=-0.06em;%
  +compresspunctuations;%
  expansion=default" at 7.8pt
\sethangulfont\eightsn="Noto Sans CJK KR DemiLight:%
  language=KOR;%
  script=hang;%
  +compresspunctuations" at 7.8pt

\sethangulfont\sevenmj="Noto Serif CJK KR Light:%
  language=KOR;%
  script=hang;%
  +compresspunctuations;%
  expansion=default" at 6.8pt

\font\texthangul="Noto Sans CJK KR DemiLight" at 9.8pt
\font\texthangulnine="Noto Sans CJK KR DemiLight" at 8.8pt
\font\texthanguleight="Noto Sans CJK KR DemiLight" at 7.8pt
\font\scripthangul="Noto Sans CJK KR Regular" at 6.8pt
\font\scripthangulsix="Noto Sans CJK KR Regular" at 5.8pt
\font\scriptscripthangul="Noto Sans CJK KR Medium" at 4.8pt

% borrowed from manmac.tex
%
\catcode`@=11 % borrow the private macros of PLAIN (with care)

\font\tentex=cmtex10

\font\inchhigh=cminch
\font\titlefont="Noto Sans CJK KR Black" at 40pt
\font\sectitlefont="Noto Sans CJK KR Bold" at 18pt

\font\ninerm=cmr9
\font\eightrm=cmr8
\font\sixrm=cmr6

\font\ninei=cmmi9
\font\eighti=cmmi8
\font\sixi=cmmi6
\skewchar\ninei='177 \skewchar\eighti='177 \skewchar\sixi='177

\font\ninesy=cmsy9
\font\eightsy=cmsy8
\font\sixsy=cmsy6
\skewchar\ninesy='60 \skewchar\eightsy='60 \skewchar\sixsy='60

\font\eightss=cmssq8

\font\eightssi=cmssqi8

\font\ninebf=cmbx9
\font\eightbf=cmbx8
\font\sixbf=cmbx6

\font\ninett=cmtt9
\font\eighttt=cmtt8

\hyphenchar\tentt=-1 % inhibit hyphenation in typewriter type
\hyphenchar\ninett=-1
\hyphenchar\eighttt=-1

\font\ninesl=cmsl9
\font\eightsl=cmsl8

\font\nineit=cmti9
\font\eightit=cmti8

\font\tenu=cmu10 % unslanted text italic
\font\magnifiedfiverm=cmr5 at 10pt
\font\cmman=cmman % font used for miscellaneous Computer Modern variations

%
\newskip\ttglue
\def\tenpoint{\def\rm{\fam0\tenrm}%
  \textfont0=\tenrm \scriptfont0=\sevenrm \scriptscriptfont0=\fiverm
  \textfont1=\teni \scriptfont1=\seveni \scriptscriptfont1=\fivei
  \textfont2=\tensy \scriptfont2=\sevensy \scriptscriptfont2=\fivesy
  \textfont3=\tenex \scriptfont3=\tenex \scriptscriptfont3=\tenex
  \setmathhangulfonts\texthangul\scripthangul\scriptscripthangul
  \def\it{\fam\itfam\tenit}%
  \textfont\itfam=\tenit
  \def\sl{\fam\slfam\tensl}%
  \textfont\slfam=\tensl
  \def\bf{\fam\bffam\tenbf}%
  \textfont\bffam=\tenbf \scriptfont\bffam=\sevenbf
   \scriptscriptfont\bffam=\fivebf
  \def\tt{\fam\ttfam\tentt}%
  \textfont\ttfam=\tentt
  \expandafter\def\expandafter\rm\expandafter{\rm\tenmj}
  \expandafter\def\expandafter\tt\expandafter{\tt\tentz}
  \expandafter\def\expandafter\bf\expandafter{\bf\tenbd}
  \expandafter\def\expandafter\sl\expandafter{\sl\tensn}
  \expandafter\def\expandafter\it\expandafter{\it\tensn}  
  \tt \ttglue=.5em plus.25em minus.15em
  \normalbaselineskip=15pt
  \let\sc=\eightrm
  \let\big=\tenbig
  \setbox\strutbox=\hbox{\vrule height8.5pt depth3.5pt width\z@}%
  \normalbaselines\rm}

\def\ninepoint{\def\rm{\fam0\ninerm}%
  \textfont0=\ninerm \scriptfont0=\sixrm \scriptscriptfont0=\fiverm
  \textfont1=\ninei \scriptfont1=\sixi \scriptscriptfont1=\fivei
  \textfont2=\ninesy \scriptfont2=\sixsy \scriptscriptfont2=\fivesy
  \textfont3=\tenex \scriptfont3=\tenex \scriptscriptfont3=\tenex
  \setmathhangulfonts\texthangulnine\scripthangulsix\scriptscripthangul
  \def\it{\fam\itfam\nineit}%
  \textfont\itfam=\nineit
  \def\sl{\fam\slfam\ninesl}%
  \textfont\slfam=\ninesl
  \def\bf{\fam\bffam\ninebf}%
  \textfont\bffam=\ninebf \scriptfont\bffam=\sixbf
   \scriptscriptfont\bffam=\fivebf
  \def\tt{\fam\ttfam\ninett}%
  \textfont\ttfam=\ninett
  \expandafter\def\expandafter\rm\expandafter{\rm\ninemj}  
  \expandafter\def\expandafter\tt\expandafter{\tt\ninetz}
  \expandafter\def\expandafter\bf\expandafter{\bf\ninebd}
  \expandafter\def\expandafter\sl\expandafter{\sl\ninesn}
  \expandafter\def\expandafter\it\expandafter{\it\ninesn}  
  \tt \ttglue=.5em plus.25em minus.15em
  \normalbaselineskip=13pt
  \let\sc=\sevenrm
  \let\big=\ninebig
  \setbox\strutbox=\hbox{\vrule height8pt depth3pt width\z@}%
  \normalbaselines\rm}

\def\eightpoint{\def\rm{\fam0\eightrm}%
  \textfont0=\eightrm \scriptfont0=\sixrm \scriptscriptfont0=\fiverm
  \textfont1=\eighti \scriptfont1=\sixi \scriptscriptfont1=\fivei
  \textfont2=\eightsy \scriptfont2=\sixsy \scriptscriptfont2=\fivesy
  \textfont3=\tenex \scriptfont3=\tenex \scriptscriptfont3=\tenex
  \setmathhangulfonts\texthanguleight\scripthangulsix\scriptscripthangul
  \def\it{\fam\itfam\eightit}%
  \textfont\itfam=\eightit
  \def\sl{\fam\slfam\eightsl}%
  \textfont\slfam=\eightsl
  \def\bf{\fam\bffam\eightbf}%
  \textfont\bffam=\eightbf \scriptfont\bffam=\sixbf
   \scriptscriptfont\bffam=\fivebf
  \def\tt{\fam\ttfam\eighttt}%
  \textfont\ttfam=\eighttt
  \expandafter\def\expandafter\rm\expandafter{\rm\eightmj}  
  \expandafter\def\expandafter\tt\expandafter{\tt\eighttz}
  \expandafter\def\expandafter\bf\expandafter{\bf\eightbd}
  \expandafter\def\expandafter\sl\expandafter{\sl\eightsn}
  \expandafter\def\expandafter\it\expandafter{\it\eightsn}  
  \tt \ttglue=.5em plus.25em minus.15em
  \normalbaselineskip=11pt
  \let\sc=\sixrm
  \let\big=\eightbig
  \setbox\strutbox=\hbox{\vrule height7pt depth2pt width\z@}%
  \normalbaselines\rm}

\def\tenmath{\tenpoint\fam-1 } % use after $ in ninepoint sections
\def\tenbig#1{{\hbox{$\left#1\vbox to8.5pt{}\right.\n@space$}}}
\def\ninebig#1{{\hbox{$\textfont0=\tenrm\textfont2=\tensy
  \left#1\vbox to7.25pt{}\right.\n@space$}}}
\def\eightbig#1{{\hbox{$\textfont0=\ninerm\textfont2=\ninesy
  \left#1\vbox to6.5pt{}\right.\n@space$}}}

% include graphics
% usage: \includegraphics width 3cm height 5cm {donknuth.png}
\def\includegraphics#1#{%
  \def\next{%
    \unless\ifcsname PicKey #1 \the\toks0\endcsname
      \immediate\saveimageresource #1 {\the\toks0}%
      \expandafter\xdef\csname PicKey #1 \the\toks0\endcsname{\the\lastsavedimageresourceindex}%
    \fi
    \expandafter\useimageresource\csname PicKey #1 \the\toks0\endcsname\relax}%
  \afterassignment\next\toks0= }

\catcode`\@=12
\tenpoint
